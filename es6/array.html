<html>

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="description" content="">
  <title>ES6</title>
</head>

<body>
  <div id="app"></div>

  <script>
    // 对于 Array 扩展
    // 1.扩展运算符（spread）是三个点（...），将一个数组转为用逗号分隔的参数序列
    console.log(1, ...[2, 3, 4], 5); // 1 2 3 4 5
    // 扩展运算符与正常的函数参数可以结合使用，非常灵活。

    let f1 = (v, w, x, y, z) => {
      return v + w + x + y + z
    }
    let args = [0, 1];
    console.log(f1(-1, ...args, 2, ...[3])); // 5

    // 替代数组的 apply 方法
    // 由于扩展运算符可以展开数组，所以不再需要apply方法，将数组转为函数的参数了。
    let f2 = (x, y, z) => {
      return x + y + z;
    }
    const args1 = [0, 1, 2];
    // ES5 的写法
    console.log(f2.apply(null, args1)); // 3
    // ES6的写法
    console.log(f2(...args1)); // 3

    // 2.扩展运算符的应用
    //（1） 合并数组
    // 扩展运算符提供了数组合并的新写法。
    // ES5
    // [1, 2].concat(more)
    // ES6
    // [1, 2, ...more]

    const arr1 = ['a', 'b'];
    const arr2 = ['c'];
    const arr3 = ['d', 'e'];
    // ES5的合并数组
    console.log("es5 concat", arr1.concat(arr2, arr3)); // [ 'a', 'b', 'c', 'd', 'e' ]
    // ES6的合并数组
    console.log("es6 concat", [...arr1, ...arr2, ...arr3]); // [ 'a', 'b', 'c', 'd', 'e' ]

    //（2）与解构赋值结合
    // 扩展运算符可以与解构赋值结合起来，用于生成数组
    const [first, ...rest] = [1, 2, 3, 4, 5];
    console.log('first', first); // 1
    console.log('rest', rest) // [2, 3, 4, 5]
    // 如果将扩展运算符用于数组赋值，只能放在参数的最后一位，否则会报错
    // const [...butLast, last] = [1, 2, 3, 4, 5]; // 报错

    //（3）字符串转数组
    // 扩展运算符还可以将字符串转为真正的数组。
    console.log('hello', [...'hello']); // [ "h", "e", "l", "l", "o" ]

  </script>
</body>

</html>
